2025-11-24 12:27:04,764 - INFO - [<module>:57] - [INIT] Gemini API configured successfully
2025-11-24 12:27:04,801 - INFO - [<module>:971] - [START] Quiz Solver Service v6 - Gemini Edition
2025-11-24 12:27:04,801 - INFO - [<module>:972] - [START] GEMINI_API_KEY configured: True
2025-11-24 12:27:04,802 - INFO - [<module>:973] - [START] SECRET_KEY configured: True
2025-11-24 12:27:04,802 - INFO - [<module>:974] - [START] LLM Provider: Google Gemini 1.5 Pro Latest
2025-11-24 12:27:04,802 - INFO - [<module>:975] - [START] Rate Limits: 15 req/min, 1M tokens/min, 1500 req/day
2025-11-24 12:27:04,803 - DEBUG - [__init__:64] - Using selector: KqueueSelector
2025-11-24 12:27:04,816 - INFO - [_serve:84] - Started server process [97324]
2025-11-24 12:27:04,816 - INFO - [startup:48] - Waiting for application startup.
2025-11-24 12:27:04,816 - INFO - [startup:62] - Application startup complete.
2025-11-24 12:27:04,816 - INFO - [_log_started_message:216] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-11-24 12:27:08,826 - INFO - [receive_request:923] - [API] POST /receive_request
2025-11-24 12:27:08,826 - INFO - [receive_request:941] - [API] Valid request for 23f2000524@ds.study.iitm.ac.in
2025-11-24 12:27:08,826 - INFO - [send:473] - 127.0.0.1:52679 - "POST /receive_request HTTP/1.1" 200
2025-11-24 12:27:08,826 - INFO - [process_request:876] - 
======================================================================
2025-11-24 12:27:08,826 - INFO - [process_request:877] - [CHAIN] Starting for 23f2000524@ds.study.iitm.ac.in
2025-11-24 12:27:08,826 - INFO - [process_request:878] - [CHAIN] Initial URL: http://tds-llm-analysis.s-anand.net/demo
2025-11-24 12:27:08,826 - INFO - [process_request:879] - [CHAIN] Extended timeout: 300 seconds (5 minutes)
2025-11-24 12:27:08,826 - INFO - [process_request:880] - [CHAIN] Using Gemini 1.5 Pro Latest
2025-11-24 12:27:08,826 - INFO - [process_request:881] - ======================================================================

2025-11-24 12:27:08,826 - INFO - [process_request:897] - [CHAIN] Quiz 1/10 | 0.0s elapsed | 300.0s remaining
2025-11-24 12:27:08,826 - INFO - [process_quiz:812] - [QUIZ] Starting: http://tds-llm-analysis.s-anand.net/demo
2025-11-24 12:27:08,826 - DEBUG - [extract_url_params:78] - [CONTEXT] Extracted variables: {'EMAIL': '23f2000524@ds.study.iitm.ac.in'}
2025-11-24 12:27:08,826 - DEBUG - [process_quiz:817] - [QUIZ] Step 1: Fetch page
2025-11-24 12:27:08,826 - INFO - [fetch_page:132] - [FETCH] Starting fetch: http://tds-llm-analysis.s-anand.net/demo
2025-11-24 12:27:08,826 - DEBUG - [fetch_page:137] - [FETCH] Attempting static fetch
2025-11-24 12:27:08,871 - DEBUG - [atrace:87] - connect_tcp.started host='tds-llm-analysis.s-anand.net' port=80 local_address=None timeout=30.0 socket_options=None
2025-11-24 12:27:08,908 - DEBUG - [atrace:87] - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x104a4ae40>
2025-11-24 12:27:08,908 - DEBUG - [atrace:87] - send_request_headers.started request=<Request [b'GET']>
2025-11-24 12:27:08,909 - DEBUG - [atrace:87] - send_request_headers.complete
2025-11-24 12:27:08,909 - DEBUG - [atrace:87] - send_request_body.started request=<Request [b'GET']>
2025-11-24 12:27:08,909 - DEBUG - [atrace:87] - send_request_body.complete
2025-11-24 12:27:08,909 - DEBUG - [atrace:87] - receive_response_headers.started request=<Request [b'GET']>
2025-11-24 12:27:08,933 - DEBUG - [atrace:87] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 24 Nov 2025 06:57:08 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Cache-Status', b'HIT'), (b'Cache-Control', b'public, max-age=0, must-revalidate'), (b'Nel', b'{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'), (b'Vary', b'accept-encoding'), (b'Report-To', b'{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=TEL%2FO8ubQNn2Lmk%2Ft9oe3HPJ4d9HqNiS49UXFFAlMoMVR5VsuEhG%2B1mIjajqmjXLDCqX9smY%2FGf5G9PRHP545o5uhpJ%2FA8zl3rZcZtrnQPg%2FzyfHp9VvlRFrTn4%3D"}]}'), (b'ETag', b'W/"ce08b59240a57c2e963ec19952224928"'), (b'Content-Encoding', b'gzip'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a3702af0deb0868-DEL'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-11-24 12:27:08,934 - DEBUG - [atrace:87] - receive_response_body.started request=<Request [b'GET']>
2025-11-24 12:27:08,934 - DEBUG - [atrace:87] - receive_response_body.complete
2025-11-24 12:27:08,934 - DEBUG - [atrace:87] - response_closed.started
2025-11-24 12:27:08,934 - DEBUG - [atrace:87] - response_closed.complete
2025-11-24 12:27:08,934 - DEBUG - [atrace:87] - close.started
2025-11-24 12:27:08,934 - DEBUG - [atrace:87] - close.complete
2025-11-24 12:27:08,934 - DEBUG - [fetch_page:142] - [FETCH] Static fetch successful: 336 bytes
2025-11-24 12:27:08,935 - DEBUG - [process_quiz:823] - [QUIZ] Step 2: Extract data
2025-11-24 12:27:08,935 - INFO - [extract_data:226] - [EXTRACT] Parsing page data
2025-11-24 12:27:08,935 - DEBUG - [extract_data:255] - [EXTRACT] Found 0 links
2025-11-24 12:27:08,935 - DEBUG - [extract_data:269] - [EXTRACT] Found 0 tables
2025-11-24 12:27:08,935 - DEBUG - [extract_data:289] - [EXTRACT] Found 0 forms
2025-11-24 12:27:08,935 - DEBUG - [extract_base64_content:189] - [EXTRACT] Searching for base64 encoded content
2025-11-24 12:27:08,935 - DEBUG - [extract_file_metadata:204] - [EXTRACT] Extracting file metadata
2025-11-24 12:27:08,935 - DEBUG - [extract_data:298] - [EXTRACT] Found 0 files
2025-11-24 12:27:08,935 - DEBUG - [process_quiz:826] - [QUIZ] Step 3: First LLM call - Understanding phase
2025-11-24 12:27:08,935 - INFO - [llm_understand:446] - [LLM_UNDERSTAND] ========== PHASE 1: UNDERSTANDING QUIZ ==========
2025-11-24 12:27:08,936 - INFO - [llm_understand:447] - [LLM_UNDERSTAND] Sending data to Gemini for analysis...
2025-11-24 12:27:08,936 - INFO - [llm_understand:489] - [LLM_UNDERSTAND] Calling Gemini 1.5 Pro Latest with 4000 tokens...
2025-11-24 12:27:08,936 - DEBUG - [call_llm_gemini:315] - [GEMINI] Calling API with max_tokens=4000
2025-11-24 12:27:08,936 - DEBUG - [call_llm_gemini:341] - [GEMINI] Attempt 1/6
2025-11-24 12:27:08,936 - INFO - [call_llm_gemini:342] - [GEMINI] ⏳ Sending request to Gemini 1.5 Pro Latest...
2025-11-24 12:27:08,936 - INFO - [call_llm_gemini:351] - [GEMINI] ⏳ WAITING FOR GEMINI TO ANALYZE AND RESPOND...
2025-11-24 12:27:09,128 - WARNING - [call_llm_gemini:437] - [GEMINI] Error: NotFound: 404 models/gemini-1.5-pro-latest is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-11-24 12:27:09,128 - WARNING - [call_llm_gemini:438] - [GEMINI] Retry 1/5 after 2s
2025-11-24 12:27:11,129 - DEBUG - [call_llm_gemini:341] - [GEMINI] Attempt 2/6
2025-11-24 12:27:11,129 - INFO - [call_llm_gemini:342] - [GEMINI] ⏳ Sending request to Gemini 1.5 Pro Latest...
2025-11-24 12:27:11,130 - INFO - [call_llm_gemini:351] - [GEMINI] ⏳ WAITING FOR GEMINI TO ANALYZE AND RESPOND...
2025-11-24 12:27:11,240 - WARNING - [call_llm_gemini:437] - [GEMINI] Error: NotFound: 404 models/gemini-1.5-pro-latest is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-11-24 12:27:11,240 - WARNING - [call_llm_gemini:438] - [GEMINI] Retry 2/5 after 4s
2025-11-24 12:27:15,240 - DEBUG - [call_llm_gemini:341] - [GEMINI] Attempt 3/6
2025-11-24 12:27:15,241 - INFO - [call_llm_gemini:342] - [GEMINI] ⏳ Sending request to Gemini 1.5 Pro Latest...
2025-11-24 12:27:15,241 - INFO - [call_llm_gemini:351] - [GEMINI] ⏳ WAITING FOR GEMINI TO ANALYZE AND RESPOND...
2025-11-24 12:27:15,356 - WARNING - [call_llm_gemini:437] - [GEMINI] Error: NotFound: 404 models/gemini-1.5-pro-latest is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-11-24 12:27:15,357 - WARNING - [call_llm_gemini:438] - [GEMINI] Retry 3/5 after 8s
2025-11-24 12:27:23,358 - DEBUG - [call_llm_gemini:341] - [GEMINI] Attempt 4/6
2025-11-24 12:27:23,360 - INFO - [call_llm_gemini:342] - [GEMINI] ⏳ Sending request to Gemini 1.5 Pro Latest...
2025-11-24 12:27:23,362 - INFO - [call_llm_gemini:351] - [GEMINI] ⏳ WAITING FOR GEMINI TO ANALYZE AND RESPOND...
2025-11-24 12:27:23,484 - WARNING - [call_llm_gemini:437] - [GEMINI] Error: NotFound: 404 models/gemini-1.5-pro-latest is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-11-24 12:27:23,484 - WARNING - [call_llm_gemini:438] - [GEMINI] Retry 4/5 after 16s
2025-11-24 12:27:39,485 - DEBUG - [call_llm_gemini:341] - [GEMINI] Attempt 5/6
2025-11-24 12:27:39,486 - INFO - [call_llm_gemini:342] - [GEMINI] ⏳ Sending request to Gemini 1.5 Pro Latest...
2025-11-24 12:27:39,486 - INFO - [call_llm_gemini:351] - [GEMINI] ⏳ WAITING FOR GEMINI TO ANALYZE AND RESPOND...
2025-11-24 12:27:39,611 - WARNING - [call_llm_gemini:437] - [GEMINI] Error: NotFound: 404 models/gemini-1.5-pro-latest is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-11-24 12:27:39,611 - WARNING - [call_llm_gemini:438] - [GEMINI] Retry 5/5 after 32s
2025-11-24 12:28:11,612 - DEBUG - [call_llm_gemini:341] - [GEMINI] Attempt 6/6
2025-11-24 12:28:11,615 - INFO - [call_llm_gemini:342] - [GEMINI] ⏳ Sending request to Gemini 1.5 Pro Latest...
2025-11-24 12:28:11,616 - INFO - [call_llm_gemini:351] - [GEMINI] ⏳ WAITING FOR GEMINI TO ANALYZE AND RESPOND...
2025-11-24 12:28:11,742 - ERROR - [call_llm_gemini:433] - [GEMINI] Error after 5 retries: 404 models/gemini-1.5-pro-latest is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-11-24 12:28:11,742 - ERROR - [llm_understand:497] - [LLM_UNDERSTAND] ✗ Failed to get understanding from Gemini
2025-11-24 12:28:11,743 - ERROR - [process_quiz:829] - [QUIZ] Understanding phase failed
2025-11-24 12:28:11,743 - ERROR - [process_request:903] - [CHAIN] Quiz failed
2025-11-24 12:28:11,743 - INFO - [process_request:917] - 
======================================================================
2025-11-24 12:28:11,743 - INFO - [process_request:918] - [CHAIN] Completed 0 quizzes in 62.9s
2025-11-24 12:28:11,743 - INFO - [process_request:919] - ======================================================================

2025-11-24 12:42:28,789 - INFO - [shutdown:264] - Shutting down
2025-11-24 12:42:28,903 - INFO - [shutdown:67] - Waiting for application shutdown.
2025-11-24 12:42:28,907 - INFO - [shutdown:76] - Application shutdown complete.
2025-11-24 12:42:28,907 - INFO - [_serve:94] - Finished server process [97324]
