2025-11-23 18:00:43,382 - INFO - [<module>:875] - [START] Quiz Solver Service v5
2025-11-23 18:00:43,382 - INFO - [<module>:876] - [START] AIPIPE configured: True
2025-11-23 18:00:43,382 - INFO - [<module>:877] - [START] SECRET configured: True
2025-11-23 18:00:43,383 - DEBUG - [__init__:64] - Using selector: KqueueSelector
2025-11-23 18:00:43,390 - INFO - [_serve:84] - Started server process [85136]
2025-11-23 18:00:43,391 - INFO - [startup:48] - Waiting for application startup.
2025-11-23 18:00:43,391 - INFO - [startup:62] - Application startup complete.
2025-11-23 18:00:43,391 - INFO - [_log_started_message:216] - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-11-23 18:00:47,000 - INFO - [receive_request:841] - [API] POST /receive_request
2025-11-23 18:00:47,000 - INFO - [receive_request:859] - [API] Valid request for 23f2000524@ds.study.iitm.ac.in
2025-11-23 18:00:47,000 - INFO - [send:473] - 127.0.0.1:51108 - "POST /receive_request HTTP/1.1" 200
2025-11-23 18:00:47,000 - INFO - [process_request:795] - 
======================================================================
2025-11-23 18:00:47,000 - INFO - [process_request:796] - [CHAIN] Starting for 23f2000524@ds.study.iitm.ac.in
2025-11-23 18:00:47,000 - INFO - [process_request:797] - [CHAIN] Initial URL: http://tds-llm-analysis.s-anand.net/demo
2025-11-23 18:00:47,000 - INFO - [process_request:798] - [CHAIN] Extended timeout: 300 seconds (5 minutes)
2025-11-23 18:00:47,000 - INFO - [process_request:799] - ======================================================================

2025-11-23 18:00:47,000 - INFO - [process_request:815] - [CHAIN] Quiz 1/10 | 0.0s elapsed | 300.0s remaining
2025-11-23 18:00:47,000 - INFO - [process_quiz:731] - [QUIZ] Starting: http://tds-llm-analysis.s-anand.net/demo
2025-11-23 18:00:47,000 - DEBUG - [extract_url_params:71] - [CONTEXT] Extracted variables: {'EMAIL': '23f2000524@ds.study.iitm.ac.in'}
2025-11-23 18:00:47,000 - DEBUG - [process_quiz:736] - [QUIZ] Step 1: Fetch page
2025-11-23 18:00:47,000 - INFO - [fetch_page:125] - [FETCH] Starting fetch: http://tds-llm-analysis.s-anand.net/demo
2025-11-23 18:00:47,000 - DEBUG - [fetch_page:130] - [FETCH] Attempting static fetch
2025-11-23 18:00:47,022 - DEBUG - [trace:47] - connect_tcp.started host='tds-llm-analysis.s-anand.net' port=80 local_address=None timeout=5.0 socket_options=None
2025-11-23 18:00:47,043 - DEBUG - [trace:47] - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1076446e0>
2025-11-23 18:00:47,043 - DEBUG - [trace:47] - send_request_headers.started request=<Request [b'GET']>
2025-11-23 18:00:47,043 - DEBUG - [trace:47] - send_request_headers.complete
2025-11-23 18:00:47,043 - DEBUG - [trace:47] - send_request_body.started request=<Request [b'GET']>
2025-11-23 18:00:47,043 - DEBUG - [trace:47] - send_request_body.complete
2025-11-23 18:00:47,043 - DEBUG - [trace:47] - receive_response_headers.started request=<Request [b'GET']>
2025-11-23 18:00:47,069 - DEBUG - [trace:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 23 Nov 2025 12:30:47 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'CF-Cache-Status', b'HIT'), (b'Cache-Control', b'public, max-age=0, must-revalidate'), (b'Nel', b'{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'), (b'Vary', b'accept-encoding'), (b'Report-To', b'{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=b9CmhWZ9hLkaVBe2a%2FyzrfwP5pHTJAXWrXbhT7DfMwyV6%2BioXGl5uYx4X3vbXJTgqdIL3c0J4TwVrRnYEQpRIS%2BrqUBDsJCMjv93SJPeW%2BRyJA2Vlx6b361rTjc%3D"}]}'), (b'ETag', b'W/"ce08b59240a57c2e963ec19952224928"'), (b'Content-Encoding', b'gzip'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a30ae08ad298171-DEL'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-11-23 18:00:47,070 - DEBUG - [trace:47] - receive_response_body.started request=<Request [b'GET']>
2025-11-23 18:00:47,070 - DEBUG - [trace:47] - receive_response_body.complete
2025-11-23 18:00:47,070 - DEBUG - [trace:47] - response_closed.started
2025-11-23 18:00:47,070 - DEBUG - [trace:47] - response_closed.complete
2025-11-23 18:00:47,070 - DEBUG - [trace:47] - close.started
2025-11-23 18:00:47,070 - DEBUG - [trace:47] - close.complete
2025-11-23 18:00:47,070 - DEBUG - [fetch_page:134] - [FETCH] Static fetch successful: 336 bytes
2025-11-23 18:00:47,071 - DEBUG - [process_quiz:742] - [QUIZ] Step 2: Extract data
2025-11-23 18:00:47,071 - INFO - [extract_data:218] - [EXTRACT] Parsing page data
2025-11-23 18:00:47,071 - DEBUG - [extract_data:247] - [EXTRACT] Found 0 links
2025-11-23 18:00:47,071 - DEBUG - [extract_data:261] - [EXTRACT] Found 0 tables
2025-11-23 18:00:47,071 - DEBUG - [extract_data:281] - [EXTRACT] Found 0 forms
2025-11-23 18:00:47,071 - DEBUG - [extract_base64_content:181] - [EXTRACT] Searching for base64 encoded content
2025-11-23 18:00:47,071 - DEBUG - [extract_file_metadata:196] - [EXTRACT] Extracting file metadata
2025-11-23 18:00:47,071 - DEBUG - [extract_data:290] - [EXTRACT] Found 0 files
2025-11-23 18:00:47,071 - DEBUG - [process_quiz:745] - [QUIZ] Step 3: First LLM call - Understanding phase
2025-11-23 18:00:47,071 - INFO - [llm_understand:360] - [LLM_UNDERSTAND] Phase 1: Interpreting quiz page
2025-11-23 18:00:47,072 - DEBUG - [call_llm:307] - [LLM] Calling API with max_tokens=4000, timeout=120s
2025-11-23 18:00:47,078 - DEBUG - [trace:47] - connect_tcp.started host='aipipe.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-11-23 18:00:47,086 - DEBUG - [trace:47] - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10765d950>
2025-11-23 18:00:47,086 - DEBUG - [trace:47] - start_tls.started ssl_context=<ssl.SSLContext object at 0x107446750> server_hostname='aipipe.org' timeout=5.0
2025-11-23 18:00:47,097 - DEBUG - [trace:47] - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10765da90>
2025-11-23 18:00:47,097 - DEBUG - [trace:47] - send_request_headers.started request=<Request [b'POST']>
2025-11-23 18:00:47,097 - DEBUG - [trace:47] - send_request_headers.complete
2025-11-23 18:00:47,097 - DEBUG - [trace:47] - send_request_body.started request=<Request [b'POST']>
2025-11-23 18:00:47,098 - DEBUG - [trace:47] - send_request_body.complete
2025-11-23 18:00:47,098 - DEBUG - [trace:47] - receive_response_headers.started request=<Request [b'POST']>
2025-11-23 18:00:47,273 - DEBUG - [trace:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Date', b'Sun, 23 Nov 2025 12:30:47 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'59'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'access-control-allow-headers', b'Authorization, Content-Type'), (b'access-control-allow-methods', b'GET, POST'), (b'access-control-expose-headers', b'*'), (b'Vary', b'accept-encoding'), (b'Report-To', b'{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=VAAKHHmRi8PUg3VftYcEPoQU%2FDZokijtwDX9YSE9c5BLBHZxfzmcJsfsFKvK6MCX4js6E1B6ftjbfbD3rOn%2Bal4%2BNSiwVY%2BfLE4%3D"}]}'), (b'Nel', b'{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a30ae08fb1525cd-DEL'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-11-23 18:00:47,274 - DEBUG - [trace:47] - receive_response_body.started request=<Request [b'POST']>
2025-11-23 18:00:47,275 - DEBUG - [trace:47] - receive_response_body.complete
2025-11-23 18:00:47,275 - DEBUG - [trace:47] - response_closed.started
2025-11-23 18:00:47,275 - DEBUG - [trace:47] - response_closed.complete
2025-11-23 18:00:47,275 - DEBUG - [trace:47] - close.started
2025-11-23 18:00:47,275 - DEBUG - [trace:47] - close.complete
2025-11-23 18:00:47,276 - ERROR - [call_llm:356] - [LLM] API error: Client error '429 Too Many Requests' for url 'https://aipipe.org/openrouter/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-11-23 18:00:47,276 - ERROR - [process_quiz:748] - [QUIZ] Understanding phase failed
2025-11-23 18:00:47,276 - ERROR - [process_request:821] - [CHAIN] Quiz failed
2025-11-23 18:00:47,276 - INFO - [process_request:835] - 
======================================================================
2025-11-23 18:00:47,276 - INFO - [process_request:836] - [CHAIN] Completed 0 quizzes in 0.3s
2025-11-23 18:00:47,276 - INFO - [process_request:837] - ======================================================================

